{"ast":null,"code":"import _regeneratorRuntime from\"/Users/bluestacks/Projects/fdc-master/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/bluestacks/Projects/fdc-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/bluestacks/Projects/fdc-master/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import ReactDOM from'react-dom';import{db}from'../firebase-config';import{addDoc,collection,updateDoc}from\"firebase/firestore\";import'./NewCampaign.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function createObj(name,createdOn,region,image_url,csv,report,weekPrice,halfYearPrice,oneYearPrice){return{name:name,createdOn:createdOn,region:region,image_url:image_url,csv:csv,report:report,price:{weekPrice:weekPrice,halfYearPrice:halfYearPrice,oneYearPrice:oneYearPrice}};}function NewCampaign(_ref){var onClose=_ref.onClose,handleDataChanged=_ref.handleDataChanged;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),campaign=_useState2[0],setCampaign=_useState2[1];var _useState3=useState(new Date()),_useState4=_slicedToArray(_useState3,2),date=_useState4[0],setDate=_useState4[1];var _useState5=useState(\"IN\"),_useState6=_slicedToArray(_useState5,2),region=_useState6[0],setRegion=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),img=_useState8[0],setImg=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),csv=_useState10[0],setCSV=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),report=_useState12[0],setReport=_useState12[1];var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),weekPrice=_useState14[0],setWeekPrice=_useState14[1];var _useState15=useState(0),_useState16=_slicedToArray(_useState15,2),halfYearPrice=_useState16[0],setHalfYearPrice=_useState16[1];var _useState17=useState(0),_useState18=_slicedToArray(_useState17,2),oneYearPrice=_useState18[0],setOneYearPrice=_useState18[1];var addCampaign=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var campaignsCollectionRef,millisec,doc;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:campaignsCollectionRef=collection(db,\"campaigns\");millisec=date.getTime();doc=createObj(campaign,millisec,region,img,csv,report,weekPrice,halfYearPrice,oneYearPrice);_context.next=5;return addDoc(campaignsCollectionRef,doc);case 5://Refresh the page on Adding new Data \nhandleDataChanged();//Close the window after adding new Campaign\nonClose();case 7:case\"end\":return _context.stop();}}},_callee);}));return function addCampaign(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/ReactDOM.createPortal(/*#__PURE__*/_jsx(\"div\",{className:\"overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"new-campaign\",children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"New campaign\"})}),/*#__PURE__*/_jsxs(\"form\",{className:\"new-campaign-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-elem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Campaign\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:campaign,onChange:function onChange(e){return setCampaign(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-elem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:date,onChange:function onChange(e){return setDate(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-elem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Region\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:region,onChange:function onChange(e){return setRegion(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-elem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Image URL\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:img,onChange:function onChange(e){return setImg(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-elem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"CSV\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:csv,onChange:function onChange(e){return setCSV(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-elem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Report\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:report,onChange:function onChange(e){return setReport(e.target.value);}})]}),/*#__PURE__*/_jsx(\"h4\",{className:\"pricing-header\",children:\"Pricing\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-elem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"1 Week - 1 Month\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:weekPrice,onChange:function onChange(e){return setWeekPrice(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-elem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"6 Months\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:halfYearPrice,onChange:function onChange(e){return setHalfYearPrice(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-elem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"1 year\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:oneYearPrice,onChange:function onChange(e){return setOneYearPrice(e.target.value);}})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer\",children:[/*#__PURE__*/_jsx(\"div\",{onClick:addCampaign,className:\"button\",children:\"Add\"}),/*#__PURE__*/_jsx(\"div\",{onClick:onClose,className:\"button\",children:\"Close\"})]})]})}),document.getElementById('modal-root'));}export default NewCampaign;","map":{"version":3,"sources":["/Users/bluestacks/Projects/fdc-master/src/components/NewCampaign.js"],"names":["React","useState","ReactDOM","db","addDoc","collection","updateDoc","createObj","name","createdOn","region","image_url","csv","report","weekPrice","halfYearPrice","oneYearPrice","price","NewCampaign","onClose","handleDataChanged","campaign","setCampaign","Date","date","setDate","setRegion","img","setImg","setCSV","setReport","setWeekPrice","setHalfYearPrice","setOneYearPrice","addCampaign","campaignsCollectionRef","millisec","getTime","doc","createPortal","e","target","value","document","getElementById"],"mappings":"qWAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,QAAP,KAAqB,WAArB,CACA,OAAQC,EAAR,KAAiB,oBAAjB,CACA,OAAQC,MAAR,CAAgBC,UAAhB,CAA4BC,SAA5B,KAA+C,oBAA/C,CACA,MAAO,mBAAP,C,wFACA,QAASC,CAAAA,SAAT,CAAmBC,IAAnB,CAAyBC,SAAzB,CAAoCC,MAApC,CAA6CC,SAA7C,CAAyDC,GAAzD,CAA+DC,MAA/D,CAAwEC,SAAxE,CAAoFC,aAApF,CAAoGC,YAApG,CAAiH,CAC7G,MACI,CACIR,IAAI,CAAGA,IADX,CAEIC,SAAS,CAAEA,SAFf,CAGIC,MAAM,CAAEA,MAHZ,CAIIC,SAAS,CAAEA,SAJf,CAKIC,GAAG,CAAEA,GALT,CAMIC,MAAM,CAAEA,MANZ,CAOII,KAAK,CAAC,CAACH,SAAS,CAACA,SAAX,CAAuBC,aAAa,CAACA,aAArC,CAAqDC,YAAY,CAACA,YAAlE,CAPV,CADJ,CAWH,CACD,QAASE,CAAAA,WAAT,MAAoD,IAA7BC,CAAAA,OAA6B,MAA7BA,OAA6B,CAAnBC,iBAAmB,MAAnBA,iBAAmB,CAChD,cAAgCnB,QAAQ,CAAC,EAAD,CAAxC,wCAAMoB,QAAN,eAAiBC,WAAjB,eACA,eAAuBrB,QAAQ,CAAC,GAAIsB,CAAAA,IAAJ,EAAD,CAA/B,yCAAMC,IAAN,eAAYC,OAAZ,eACA,eAA4BxB,QAAQ,CAAC,IAAD,CAApC,yCAAMS,MAAN,eAAegB,SAAf,eACA,eAAsBzB,QAAQ,CAAC,EAAD,CAA9B,yCAAM0B,GAAN,eAAYC,MAAZ,eACA,eAAsB3B,QAAQ,CAAC,EAAD,CAA9B,0CAAMW,GAAN,gBAAYiB,MAAZ,gBACA,gBAA2B5B,QAAQ,CAAC,EAAD,CAAnC,2CAAMY,MAAN,gBAAciB,SAAd,gBACA,gBAAkC7B,QAAQ,CAAC,CAAD,CAA1C,2CAAMa,SAAN,gBAAkBiB,YAAlB,gBACA,gBAA0C9B,QAAQ,CAAC,CAAD,CAAlD,2CAAMc,aAAN,gBAAsBiB,gBAAtB,gBACA,gBAAwC/B,QAAQ,CAAC,CAAD,CAAhD,2CAAMe,YAAN,gBAAqBiB,eAArB,gBAEA,GAAIC,CAAAA,WAAW,2FAAG,2KACRC,sBADQ,CACiB9B,UAAU,CAACF,EAAD,CAAM,WAAN,CAD3B,CAEViC,QAFU,CAECZ,IAAI,CAACa,OAAL,EAFD,CAGVC,GAHU,CAGJ/B,SAAS,CAACc,QAAD,CAAYe,QAAZ,CAAuB1B,MAAvB,CAAgCiB,GAAhC,CAAsCf,GAAtC,CAA4CC,MAA5C,CAAqDC,SAArD,CAAiEC,aAAjE,CAAiFC,YAAjF,CAHL,uBAIRZ,CAAAA,MAAM,CAAC+B,sBAAD,CAAyBG,GAAzB,CAJE,QAMd;AACAlB,iBAAiB,GACjB;AACAD,OAAO,GATO,sDAAH,kBAAXe,CAAAA,WAAW,2CAAf,CAYA,mBACIhC,QAAQ,CAACqC,YAAT,cACA,YAAK,SAAS,CAAC,SAAf,uBACI,aAAK,SAAS,CAAC,cAAf,wBACI,qCACI,mCADJ,EADJ,cAMI,cAAM,SAAS,CAAC,mBAAhB,wBACI,aAAK,SAAS,CAAC,WAAf,wBACI,mCADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAElB,QAA1B,CAAoC,QAAQ,CAAE,kBAACmB,CAAD,QAAKlB,CAAAA,WAAW,CAACkB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAhB,EAA9C,EAFJ,GADJ,cAKI,aAAK,SAAS,CAAC,WAAf,wBACI,+BADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAElB,IAA1B,CAAgC,QAAQ,CAAE,kBAACgB,CAAD,QAAKf,CAAAA,OAAO,CAACe,CAAC,CAACC,MAAF,CAASC,KAAV,CAAZ,EAA1C,EAFJ,GALJ,cASI,aAAK,SAAS,CAAC,WAAf,wBACI,iCADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAEhC,MAA1B,CAAkC,QAAQ,CAAE,kBAAC8B,CAAD,QAAKd,CAAAA,SAAS,CAACc,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,EAA5C,EAFJ,GATJ,cAaI,aAAK,SAAS,CAAC,WAAf,wBACI,oCADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAEf,GAA1B,CAA+B,QAAQ,CAAE,kBAACa,CAAD,QAAKZ,CAAAA,MAAM,CAACY,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,EAAzC,EAFJ,GAbJ,cAiBI,aAAK,SAAS,CAAC,WAAf,wBACI,8BADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAE9B,GAA1B,CAA+B,QAAQ,CAAE,kBAAC4B,CAAD,QAAKX,CAAAA,MAAM,CAACW,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,EAAzC,EAFJ,GAjBJ,cAqBI,aAAK,SAAS,CAAC,WAAf,wBACI,iCADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAE7B,MAA1B,CAAkC,QAAQ,CAAE,kBAAC2B,CAAD,QAAKV,CAAAA,SAAS,CAACU,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,EAA5C,EAFJ,GArBJ,cAyBI,WAAI,SAAS,CAAC,gBAAd,qBAzBJ,cA0BI,oCACI,aAAK,SAAS,CAAC,WAAf,wBACI,2CADJ,cAEI,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAE5B,SAA5B,CAAuC,QAAQ,CAAE,kBAAC0B,CAAD,QAAKT,CAAAA,YAAY,CAACS,CAAC,CAACC,MAAF,CAASC,KAAV,CAAjB,EAAjD,EAFJ,GADJ,cAKI,aAAK,SAAS,CAAC,WAAf,wBACI,mCADJ,cAEI,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAE3B,aAA5B,CAA2C,QAAQ,CAAE,kBAACyB,CAAD,QAAKR,CAAAA,gBAAgB,CAACQ,CAAC,CAACC,MAAF,CAASC,KAAV,CAArB,EAArD,EAFJ,GALJ,cASI,aAAK,SAAS,CAAC,WAAf,wBACI,iCADJ,cAEI,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAE1B,YAA5B,CAA0C,QAAQ,CAAE,kBAACwB,CAAD,QAAKP,CAAAA,eAAe,CAACO,CAAC,CAACC,MAAF,CAASC,KAAV,CAApB,EAApD,EAFJ,GATJ,GA1BJ,GANJ,cA+CI,aAAK,SAAS,CAAC,QAAf,wBACI,YAAK,OAAO,CAAER,WAAd,CAA2B,SAAS,CAAC,QAArC,iBADJ,cAEI,YAAK,OAAO,CAAEf,OAAd,CAAuB,SAAS,CAAC,QAAjC,mBAFJ,GA/CJ,GADJ,EADA,CAsDQwB,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAtDR,CADJ,CA0DH,CAED,cAAe1B,CAAAA,WAAf","sourcesContent":["import React, { useState } from \"react\";\nimport ReactDOM from 'react-dom';\nimport {db} from '../firebase-config'\nimport {addDoc, collection, updateDoc , } from \"firebase/firestore\"\nimport './NewCampaign.css'\nfunction createObj(name ,createdOn ,region , image_url , csv , report , weekPrice , halfYearPrice , oneYearPrice){\n    return(\n        {\n            name : name , \n            createdOn: createdOn,\n            region: region ,\n            image_url: image_url ,\n            csv: csv ,\n            report: report ,\n            price:{weekPrice:weekPrice , halfYearPrice:halfYearPrice , oneYearPrice:oneYearPrice}\n        }\n    )\n}\nfunction NewCampaign ({onClose , handleDataChanged}){\n    const[campaign , setCampaign] = useState(\"\");\n    const[date, setDate] = useState(new Date());\n    const[region , setRegion] = useState(\"IN\");\n    const[img , setImg] = useState(\"\");\n    const[csv , setCSV] = useState(\"\");\n    const[report, setReport] = useState(\"\");\n    const[weekPrice , setWeekPrice] = useState(0);\n    const[halfYearPrice , setHalfYearPrice] = useState(0);\n    const[oneYearPrice , setOneYearPrice] = useState(0);\n\n    var addCampaign = async()=>{\n        const campaignsCollectionRef = collection(db , \"campaigns\") ;\n        var millisec = date.getTime();\n        var doc = createObj(campaign , millisec , region , img , csv , report , weekPrice , halfYearPrice , oneYearPrice) ;\n        await addDoc(campaignsCollectionRef, doc) ;\n\n        //Refresh the page on Adding new Data \n        handleDataChanged();\n        //Close the window after adding new Campaign\n        onClose() ;\n    }\n\n    return(\n        ReactDOM.createPortal(\n        <div className=\"overlay\">\n            <div className=\"new-campaign\">\n                <header>\n                    <p>\n                        New campaign\n                    </p>\n                </header>\n                <form className=\"new-campaign-body\"> \n                    <div className=\"form-elem\">\n                        <label>Campaign</label>\n                        <input type=\"text\" value={campaign} onChange={(e)=>setCampaign(e.target.value)}/>\n                    </div>\n                    <div className=\"form-elem\">\n                        <label>Date</label>\n                        <input type=\"date\" value={date} onChange={(e)=>setDate(e.target.value)}/>\n                    </div>\n                    <div className=\"form-elem\">\n                        <label>Region</label>\n                        <input type=\"text\" value={region} onChange={(e)=>setRegion(e.target.value)}/>\n                    </div>\n                    <div className=\"form-elem\">\n                        <label>Image URL</label>\n                        <input type=\"text\" value={img} onChange={(e)=>setImg(e.target.value)}/>\n                    </div>\n                    <div className=\"form-elem\">\n                        <label>CSV</label>\n                        <input type=\"text\" value={csv} onChange={(e)=>setCSV(e.target.value)}/>\n                    </div>\n                    <div className=\"form-elem\">\n                        <label>Report</label>\n                        <input type=\"text\" value={report} onChange={(e)=>setReport(e.target.value)}/>\n                    </div>\n                    <h4 className=\"pricing-header\">Pricing</h4>\n                    <div>\n                        <div className=\"form-elem\">\n                            <label>1 Week - 1 Month</label>\n                            <input type=\"number\" value={weekPrice} onChange={(e)=>setWeekPrice(e.target.value)}/>\n                        </div>\n                        <div className=\"form-elem\">\n                            <label>6 Months</label>\n                            <input type=\"number\" value={halfYearPrice} onChange={(e)=>setHalfYearPrice(e.target.value)}/>\n                        </div>\n                        <div className=\"form-elem\">\n                            <label>1 year</label>\n                            <input type=\"number\" value={oneYearPrice} onChange={(e)=>setOneYearPrice(e.target.value)}/>\n                        </div>\n                    </div>\n                </form>\n                <div className=\"footer\">\n                    <div onClick={addCampaign} className=\"button\">Add</div>\n                    <div onClick={onClose} className=\"button\">Close</div>\n                </div>\n            </div> \n        </div>, document.getElementById('modal-root'))\n        \n    )\n}\n\nexport default NewCampaign;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _regeneratorRuntime from\"/Users/bluestacks/Projects/fdc-master/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/bluestacks/Projects/fdc-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/bluestacks/Projects/fdc-master/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from'react';import CalendarModel from'../models/CalenderModel';import{updateDoc,doc}from'firebase/firestore';import{db}from'../firebase-config';import{ClickableContext}from'../components/main';import{AiFillFile}from\"react-icons/ai\";import{IoStatsChart}from\"react-icons/io5\";import{FaCalendarAlt}from\"react-icons/fa\";import'./Actions.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Actions(_ref){var data=_ref.data,dataChanged=_ref.dataChanged,setDataChanged=_ref.setDataChanged;//setClickable(false) is used to make Background div non clickable  \nvar setClickable=useContext(ClickableContext);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),calenderVis=_useState2[0],setCalenderVis=_useState2[1];var handleDataChange=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(date){var campaign,newField;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:campaign=doc(db,'campaigns',data.id);newField={createdOn:date.getTime()};_context.next=4;return updateDoc(campaign,newField);case 4:setDataChanged(!dataChanged);setCalenderVis(false);case 6:case\"end\":return _context.stop();}}},_callee);}));return function handleDataChange(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"td\",{className:\"col actions\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(AiFillFile,{className:\"icon\",size:20,color:\"lightgreen\"}),/*#__PURE__*/_jsx(\"a\",{href:data.csv,children:\"CSV\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(IoStatsChart,{className:\"icon\",size:20,color:\"orange\"}),/*#__PURE__*/_jsx(\"a\",{href:data.report,children:\"Report\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(FaCalendarAlt,{className:\"icon\",size:20,color:\"lightblue\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){setClickable(false);setCalenderVis(!calenderVis);},className:\"schedule\",children:\"Schedule Again\"}),calenderVis&&/*#__PURE__*/_jsx(CalendarModel,{date:new Date(data.createdOn),handleDataChange:handleDataChange})]})]})});}export default Actions;","map":{"version":3,"sources":["/Users/bluestacks/Projects/fdc-master/src/components/Actions.js"],"names":["React","useState","useContext","CalendarModel","updateDoc","doc","db","ClickableContext","AiFillFile","IoStatsChart","FaCalendarAlt","Actions","data","dataChanged","setDataChanged","setClickable","calenderVis","setCalenderVis","handleDataChange","date","campaign","id","newField","createdOn","getTime","csv","report","Date"],"mappings":"qWAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA2BC,UAA3B,KAA6C,OAA7C,CACA,MAAOC,CAAAA,aAAP,KAA0B,yBAA1B,CACA,OAAQC,SAAR,CAAmBC,GAAnB,KAA6B,oBAA7B,CACA,OAAQC,EAAR,KAAiB,oBAAjB,CACA,OAASC,gBAAT,KAAiC,oBAAjC,CACA,OAASC,UAAT,KAA0B,gBAA1B,CACA,OAASC,YAAT,KAA6B,iBAA7B,CACA,OAAQC,aAAR,KAA6B,gBAA7B,CACA,MAAO,eAAP,C,wFAEA,QAASC,CAAAA,OAAT,MAAqD,IAAnCC,CAAAA,IAAmC,MAAnCA,IAAmC,CAA7BC,WAA6B,MAA7BA,WAA6B,CAAhBC,cAAgB,MAAhBA,cAAgB,CACjD;AACA,GAAMC,CAAAA,YAAY,CAAIb,UAAU,CAACK,gBAAD,CAAhC,CACA,cAAsCN,QAAQ,CAAC,KAAD,CAA9C,wCAAMe,WAAN,eAAoBC,cAApB,eACA,GAAIC,CAAAA,gBAAgB,2FAAG,iBAAOC,IAAP,wIACbC,QADa,CACFf,GAAG,CAACC,EAAD,CAAM,WAAN,CAAoBM,IAAI,CAACS,EAAzB,CADD,CAEbC,QAFa,CAEF,CAACC,SAAS,CAAGJ,IAAI,CAACK,OAAL,EAAb,CAFE,uBAGbpB,CAAAA,SAAS,CAACgB,QAAD,CAAWE,QAAX,CAHI,QAInBR,cAAc,CAAC,CAACD,WAAF,CAAd,CACAI,cAAc,CAAC,KAAD,CAAd,CALmB,sDAAH,kBAAhBC,CAAAA,gBAAgB,6CAApB,CAOA,mBACI,WAAI,SAAS,CAAC,aAAd,uBACI,mCACI,mCAAI,KAAC,UAAD,EAAY,SAAS,CAAC,MAAtB,CAA6B,IAAI,CAAE,EAAnC,CAAuC,KAAK,CAAC,YAA7C,EAAJ,cAA+D,UAAG,IAAI,CAAEN,IAAI,CAACa,GAAd,iBAA/D,GADJ,cAEI,mCAAI,KAAC,YAAD,EAAc,SAAS,CAAC,MAAxB,CAA+B,IAAI,CAAE,EAArC,CAAyC,KAAK,CAAC,QAA/C,EAAJ,cAA6D,UAAG,IAAI,CAAEb,IAAI,CAACc,MAAd,oBAA7D,GAFJ,cAGI,mCACI,KAAC,aAAD,EAAe,SAAS,CAAC,MAAzB,CAAgC,IAAI,CAAE,EAAtC,CAA0C,KAAK,CAAC,WAAhD,EADJ,cAEI,eAAQ,OAAO,CAAE,kBAAI,CACjBX,YAAY,CAAC,KAAD,CAAZ,CACAE,cAAc,CAAC,CAACD,WAAF,CAAd,CACC,CAHL,CAGO,SAAS,CAAC,UAHjB,4BAFJ,CAMKA,WAAW,eAAE,KAAC,aAAD,EAAe,IAAI,CAAG,GAAIW,CAAAA,IAAJ,CAASf,IAAI,CAACW,SAAd,CAAtB,CAAgD,gBAAgB,CAAIL,gBAApE,EANlB,GAHJ,GADJ,EADJ,CAgBH,CAED,cAAeP,CAAAA,OAAf","sourcesContent":["import React, { useState , useContext } from 'react'\nimport CalendarModel from '../models/CalenderModel'\nimport {updateDoc ,doc} from 'firebase/firestore'\nimport {db} from '../firebase-config'\nimport { ClickableContext } from '../components/main';\nimport { AiFillFile} from \"react-icons/ai\";\nimport { IoStatsChart } from \"react-icons/io5\";\nimport {FaCalendarAlt } from \"react-icons/fa\"\nimport './Actions.css'\n\nfunction Actions({data, dataChanged ,setDataChanged}){\n    //setClickable(false) is used to make Background div non clickable  \n    const setClickable =  useContext(ClickableContext) ;\n    const[calenderVis , setCalenderVis] = useState(false) ; \n    var handleDataChange = async (date)=>{\n        const campaign = doc(db , 'campaigns' , data.id ) ;\n        const newField = {createdOn : date.getTime()}; \n        await updateDoc(campaign ,newField) ;\n        setDataChanged(!dataChanged) ;\n        setCalenderVis(false);\n    }\n    return (\n        <td className=\"col actions\">\n            <ul>\n                <li><AiFillFile className='icon' size={20} color='lightgreen'/><a href={data.csv}>CSV</a></li>\n                <li><IoStatsChart className='icon' size={20} color='orange'/><a href={data.report}>Report</a></li>\n                <li>\n                    <FaCalendarAlt className='icon' size={20} color='lightblue'/>\n                    <button onClick={()=>{\n                        setClickable(false);\n                        setCalenderVis(!calenderVis);\n                        }} className='schedule'>Schedule Again</button>\n                    {calenderVis&&<CalendarModel date ={new Date(data.createdOn)} handleDataChange = {handleDataChange} />}\n                </li>\n            </ul>\n        </td>\n    )\n}\n\nexport default Actions ; "]},"metadata":{},"sourceType":"module"}
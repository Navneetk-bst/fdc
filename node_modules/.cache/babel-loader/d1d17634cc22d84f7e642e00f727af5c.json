{"ast":null,"code":"var _jsxFileName = \"/Users/bluestacks/Projects/fdc-master/src/components/Actions.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from 'react';\nimport CalendarModel from '../models/CalenderModel';\nimport { updateDoc, doc } from 'firebase/firestore';\nimport { db } from '../firebase-config';\nimport { ClickableContext } from '../components/main';\nimport { AiFillFile } from \"react-icons/ai\";\nimport { IoStatsChart } from \"react-icons/io5\";\nimport { FaCalendarAlt } from \"react-icons/fa\";\nimport axios from 'axios';\nimport { useHistory } from \"react-router-dom\";\nimport './Actions.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Actions(_ref) {\n  _s();\n\n  let {\n    data,\n    dataChanged,\n    setDataChanged\n  } = _ref;\n  //setClickable(false) is used to make Background div non clickable  \n  const setClickable = useContext(ClickableContext);\n  const [calenderVis, setCalenderVis] = useState(false);\n  const history = useHistory;\n\n  var handleDataChange = async date => {\n    const campaign = doc(db, 'campaigns', data.id);\n    const newField = {\n      createdOn: date.getTime()\n    };\n    await updateDoc(campaign, newField);\n    setDataChanged(!dataChanged);\n    setCalenderVis(false);\n  };\n\n  var handleRequest = async e => {\n    e.preventDefault();\n    var url = e.target.href;\n    axios.get(url).then().catch(err => {\n      if (err.response.status == \"404\") {}\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"td\", {\n    className: \"col actions\",\n    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(AiFillFile, {\n          className: \"icon\",\n          size: 20,\n          color: \"lightgreen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: data.csv,\n          onClick: e => handleRequest(e),\n          children: \"CSV\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 80\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(IoStatsChart, {\n          className: \"icon\",\n          size: 20,\n          color: \"orange\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: data.report,\n          onClick: e => handleRequest(e),\n          children: \"Report\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 78\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(FaCalendarAlt, {\n          className: \"icon\",\n          size: 20,\n          color: \"lightblue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setClickable(false);\n            setCalenderVis(!calenderVis);\n          },\n          className: \"schedule\",\n          children: \"Schedule Again\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this), calenderVis && /*#__PURE__*/_jsxDEV(CalendarModel, {\n          date: new Date(data.createdOn),\n          handleDataChange: handleDataChange,\n          handleCalendarVis: () => {\n            setCalenderVis(!calenderVis);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 35\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Actions, \"O5OSK/S0Yea/HEyG+OjgTYav9Og=\");\n\n_c = Actions;\nexport default Actions;\n\nvar _c;\n\n$RefreshReg$(_c, \"Actions\");","map":{"version":3,"sources":["/Users/bluestacks/Projects/fdc-master/src/components/Actions.js"],"names":["React","useState","useContext","CalendarModel","updateDoc","doc","db","ClickableContext","AiFillFile","IoStatsChart","FaCalendarAlt","axios","useHistory","Actions","data","dataChanged","setDataChanged","setClickable","calenderVis","setCalenderVis","history","handleDataChange","date","campaign","id","newField","createdOn","getTime","handleRequest","e","preventDefault","url","target","href","get","then","catch","err","response","status","csv","report","Date"],"mappings":"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","sourcesContent":["import React, { useState , useContext } from 'react'\nimport CalendarModel from '../models/CalenderModel'\nimport {updateDoc ,doc} from 'firebase/firestore'\nimport {db} from '../firebase-config'\nimport { ClickableContext } from '../components/main';\nimport { AiFillFile} from \"react-icons/ai\";\nimport { IoStatsChart } from \"react-icons/io5\";\nimport {FaCalendarAlt } from \"react-icons/fa\" ;\nimport axios from 'axios';\nimport { useHistory } from \"react-router-dom\";\nimport './Actions.css'\n\nfunction Actions({data, dataChanged ,setDataChanged}){\n    //setClickable(false) is used to make Background div non clickable  \n    const setClickable =  useContext(ClickableContext) ;\n    const[calenderVis , setCalenderVis] = useState(false) ; \n    const history = useHistory\n    var handleDataChange = async (date)=>{\n        const campaign = doc(db , 'campaigns' , data.id ) ;\n        const newField = {createdOn : date.getTime()}; \n        await updateDoc(campaign ,newField) ;\n        setDataChanged(!dataChanged) ;\n        setCalenderVis(false);\n    }\n\n    var handleRequest = async (e) =>{\n        e.preventDefault() ; \n        var url = e.target.href ; \n        axios.get(url).then().catch(err=>{\n            if(err.response.status == \"404\"){\n                \n            }\n        })\n\n    }\n    return (\n        <td className=\"col actions\">\n            <ul>\n                <li><AiFillFile className='icon' size={20} color='lightgreen'/><a href={data.csv} onClick={(e)=>handleRequest(e)}>CSV</a></li>\n                <li><IoStatsChart className='icon' size={20} color='orange'/><a href={data.report} onClick={(e)=>handleRequest(e)}>Report</a></li>\n                <li>\n                    <FaCalendarAlt className='icon' size={20} color='lightblue'/>\n                    <button onClick={()=>{\n                        setClickable(false);\n                        setCalenderVis(!calenderVis)\n                        }} className='schedule'>Schedule Again</button>\n                    {calenderVis&&<CalendarModel date ={new Date(data.createdOn)} handleDataChange = {handleDataChange} handleCalendarVis={()=>{setCalenderVis(!calenderVis)}} />}\n                </li>\n            </ul>\n        </td>\n    )\n}\n\nexport default Actions ; "]},"metadata":{},"sourceType":"module"}